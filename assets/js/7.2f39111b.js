(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{351:function(s,a,t){"use strict";t.r(a);var e=t(43),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"前端业务中常见的异步场景处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端业务中常见的异步场景处理"}},[s._v("#")]),s._v(" 前端业务中常见的异步场景处理")]),s._v(" "),t("h2",{attrs:{id:"背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[s._v("#")]),s._v(" 背景")]),s._v(" "),t("p",[s._v("随着前端应用的复杂度提升，应用中的异步场景也越来越多。虽然 ES6 中 Promise、generator、async/await 语法能简化异步代码的编写，但是一些业务场景下还是需要花点心思去处理。")]),s._v(" "),t("p",[s._v("比如：")]),s._v(" "),t("ul",[t("li",[s._v("异步循环：需要循环拉取分页数据，直至数据为空。")]),s._v(" "),t("li",[s._v("异步取消：组件销毁后，异步才完成，需要避免更新组件的操作。")]),s._v(" "),t("li",[s._v("后续异步发生，忽略前面未完成异步：同一接口携带不同参数多次请求的竞态问题，先发后至，后发先至。")]),s._v(" "),t("li",[s._v("异步未完成时，后续相同异步等待并一起完成：同一幂等接口多次请求。")]),s._v(" "),t("li",[s._v("异步未完成时，后续异步等待：异步队列。")])]),s._v(" "),t("h2",{attrs:{id:"异步循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异步循环"}},[s._v("#")]),s._v(" 异步循环")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("async function requestAll() {\n    let hasNext = true;\n\n    while (hasNext) {\n        const res = await axios(...);\n        \n        hasNext = res.hasNext;\n    }\n}\n\nrequestAll();\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);